(()=>{function d(){let o=document.querySelectorAll("#todo-list li").length,e="No todos";o===1&&(e=`${o} todo`),o>1&&(e=`${o} todos`),document.getElementById("todo-count").innerText=e,document.getElementById("todo-hours").innerText="",fetch("/todos/trends").then(t=>t.json()).then(t=>{let n="";t.hours===1&&(n=`${t.hours} hour`),t.hours>1&&(n=`${t.hours} hours`),document.getElementById("todo-hours").innerText=n}).catch(t=>{console.error("error in getting trends",t)})}function r(o){let e=document.getElementById(`tooltip-content-${o}`);try{let t=JSON.parse(e.innerText);t.length===0?e.innerHTML="<div class='py-1 text-gray-300 italic'>No tags available</div>":e.innerHTML=t.map(n=>`<div>${n}</div>`).join("")}catch(t){console.error("Failed to parse tags:",t)}}window.updateTodoCount=d;window.formatTags=r;document.addEventListener("DOMContentLoaded",d);document.body.addEventListener("htmx:afterRequest",d);})();
