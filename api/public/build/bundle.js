var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i;function a(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t,e,n,o){if(t){const r=d(t,e,n,o);return t[0](r)}}function d(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function f(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function p(t,e,n,o,r,s){if(r){const l=d(e,n,o,s);t.p(l,r)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){return null==t?"":t}const g="undefined"!=typeof window;let $=g?()=>window.performance.now():()=>Date.now(),y=g?t=>requestAnimationFrame(t):t;const v=new Set;function w(t){v.forEach((e=>{e.c(t)||(v.delete(e),e.f())})),0!==v.size&&y(w)}function b(t,e){t.appendChild(e)}function x(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function k(t){const e=S("style");return function(t,e){b(t.head||t,e)}(x(t),e),e}function C(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode.removeChild(t)}function M(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function T(){return _(" ")}function O(){return _("")}function E(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function Y(t){return function(e){return e.preventDefault(),t.call(this,e)}}function j(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=null==e?"":e}function I(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function L(t,e,n){t.classList[n?"add":"remove"](e)}function B(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}class N{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=S(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)C(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(D)}}const P=new Set;let F,W=0;function H(t,e,n,o,r,s,l,i=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*s(t);c+=100*t+`%{${l(o,1-o)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,f=x(t);P.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=k(t).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${r}ms 1 both`,W+=1,d}function U(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),W-=r,W||y((()=>{W||(P.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),P.clear())})))}function R(t){F=t}function K(){if(!F)throw new Error("Function called outside component initialization");return F}function J(t){K().$$.on_mount.push(t)}function Z(t){K().$$.on_destroy.push(t)}function V(){const t=K();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=B(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function G(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const Q=[],X=[],tt=[],et=[],nt=Promise.resolve();let ot=!1;function rt(t){tt.push(t)}const st=new Set;let lt,it=0;function at(){const t=F;do{for(;it<Q.length;){const t=Q[it];it++,R(t),ct(t.$$)}for(R(null),Q.length=0,it=0;X.length;)X.pop()();for(let t=0;t<tt.length;t+=1){const e=tt[t];st.has(e)||(st.add(e),e())}tt.length=0}while(Q.length);for(;et.length;)et.pop()();ot=!1,st.clear(),R(t)}function ct(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}function ut(t,e,n){t.dispatchEvent(B(`${e?"intro":"outro"}${n}`))}const dt=new Set;let ft;function pt(){ft={r:0,c:[],p:ft}}function mt(){ft.r||r(ft.c),ft=ft.p}function ht(t,e){t&&t.i&&(dt.delete(t),t.i(e))}function gt(t,e,n,o){if(t&&t.o){if(dt.has(t))return;dt.add(t),ft.c.push((()=>{dt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const $t={duration:0};function yt(n,o,l,i){let a=o(n,l),c=i?0:1,u=null,d=null,f=null;function p(){f&&U(n,f)}function m(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(o){const{delay:s=0,duration:l=300,easing:i=e,tick:h=t,css:g}=a||$t,b={start:$()+s,b:o};o||(b.group=ft,ft.r+=1),u||d?d=b:(g&&(p(),f=H(n,c,o,l,s,i,g)),o&&h(0,1),u=m(b,l),rt((()=>ut(n,o,"start"))),function(t){let e;0===v.size&&y(w),new Promise((n=>{v.add(e={c:t,f:n})}))}((t=>{if(d&&t>d.start&&(u=m(d,l),d=null,ut(n,u.b,"start"),g&&(p(),f=H(n,c,u.b,u.duration,0,i,a.css))),u)if(t>=u.end)h(c=u.b,1-c),ut(n,u.b,"end"),d||(u.b?p():--u.group.r||r(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*i(e/u.duration),h(c,1-c)}return!(!u&&!d)})))}return{run(t){s(a)?(lt||(lt=Promise.resolve(),lt.then((()=>{lt=null}))),lt).then((()=>{a=a(),h(t)})):h(t)},end(){p(),u=d=null}}}function vt(t,e){t.d(1),e.delete(t.key)}function wt(t,e){gt(t,1,1,(()=>{e.delete(t.key)}))}function bt(t,e,n,o,r,s,l,i,a,c,u,d){let f=t.length,p=s.length,m=f;const h={};for(;m--;)h[t[m].key]=m;const g=[],$=new Map,y=new Map;for(m=p;m--;){const t=d(r,s,m),i=n(t);let a=l.get(i);a?o&&a.p(t,e):(a=c(i,t),a.c()),$.set(i,g[m]=a),i in h&&y.set(i,Math.abs(m-h[i]))}const v=new Set,w=new Set;function b(t){ht(t,1),t.m(i,u),l.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,p--):$.has(r)?!l.has(o)||v.has(o)?b(e):w.has(r)?f--:y.get(o)>y.get(r)?(w.add(o),b(e)):(v.add(r),f--):(a(n,l),f--)}for(;f--;){const e=t[f];$.has(e.key)||a(e,l)}for(;p;)b(g[p-1]);return g}function xt(t){t&&t.c()}function kt(t,e,o,l){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=t.$$;i&&i.m(e,o),l||rt((()=>{const e=a.map(n).filter(s);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(rt)}function Ct(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(t,e){-1===t.$$.dirty[0]&&(Q.push(t),ot||(ot=!0,nt.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Mt(e,n,s,l,i,a,c,u=[-1]){const d=F;R(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&Dt(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(D)}else f.fragment&&f.fragment.c();n.intro&&ht(e.$$.fragment),kt(e,n.target,n.anchor,n.customElement),at()}R(d)}class St{$destroy(){Ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _t=[];function Tt(e,n=t){let o;const r=new Set;function s(t){if(l(e,t)&&(e=t,o)){const t=!_t.length;for(const t of r)t[1](),_t.push(t,e);if(t){for(let t=0;t<_t.length;t+=2)_t[t][0](_t[t+1]);_t.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(l,i=t){const a=[l,i];return r.add(a),1===r.size&&(o=n(s)||t),l(e),()=>{r.delete(a),0===r.size&&(o(),o=null)}}}}const Ot={state:"loggedout",username:null,userid:null,authtoken:null},Et=Tt(Ot),Yt={subscribe:Et.subscribe,appStarted:()=>{const t=localStorage.getItem("todo-auth-state");if(t){let e=JSON.parse(t);e={...e,state:"loggedin"},Et.set(e)}},setLoggedOff:()=>{Et.set(Ot),localStorage.removeItem("todo-auth-state")},setSignup:()=>{const t={...Ot,state:"signup"};Et.set(t)},setLogin:()=>{const t={...Ot,state:"login"};Et.set(t)},setLoggedIn:(t,e,n)=>{Et.set({state:"loggedin",username:t,userid:e,authtoken:n}),localStorage.setItem("todo-auth-state",JSON.stringify({username:t,userid:e,authtoken:n}))}};function jt(t){const e=t-1;return e*e*e+1}function At(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function qt(t,{delay:e=0,duration:n=400,easing:o=jt,x:r=0,y:s=0,opacity:l=0}={}){const i=getComputedStyle(t),a=+i.opacity,c="none"===i.transform?"":i.transform,u=a*(1-l);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${a-u*e}`}}function zt(t,{delay:e=0,duration:n=400,easing:o=jt}={}){const r=getComputedStyle(t),s=+r.opacity,l=parseFloat(r.height),i=parseFloat(r.paddingTop),a=parseFloat(r.paddingBottom),c=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),f=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*s};height: ${t*l}px;padding-top: ${t*i}px;padding-bottom: ${t*a}px;margin-top: ${t*c}px;margin-bottom: ${t*u}px;border-top-width: ${t*d}px;border-bottom-width: ${t*f}px;`}}function It(t){let e,n,o,r,s;const l=t[6].default,i=u(l,t,t[5],null);return{c(){e=S("button"),i&&i.c(),A(e,"class",n=t[2]+" "+t[3]+" svelte-g32zaw"),A(e,"type",t[0]),e.disabled=t[4]},m(n,l){C(n,e,l),i&&i.m(e,null),o=!0,r||(s=E(e,"click",t[7]),r=!0)},p(t,r){i&&i.p&&(!o||32&r)&&p(i,l,t,t[5],o?f(l,t[5],r,null):m(t[5]),null),(!o||12&r&&n!==(n=t[2]+" "+t[3]+" svelte-g32zaw"))&&A(e,"class",n),(!o||1&r)&&A(e,"type",t[0]),(!o||16&r)&&(e.disabled=t[4])},i(t){o||(ht(i,t),o=!0)},o(t){gt(i,t),o=!1},d(t){t&&D(e),i&&i.d(t),r=!1,s()}}}function Lt(t){let e,n;const o=t[6].default,r=u(o,t,t[5],null);return{c(){e=S("a"),r&&r.c(),A(e,"href",t[1]),A(e,"class","svelte-g32zaw")},m(t,o){C(t,e,o),r&&r.m(e,null),n=!0},p(t,s){r&&r.p&&(!n||32&s)&&p(r,o,t,t[5],n?f(o,t[5],s,null):m(t[5]),null),(!n||2&s)&&A(e,"href",t[1])},i(t){n||(ht(r,t),n=!0)},o(t){gt(r,t),n=!1},d(t){t&&D(e),r&&r.d(t)}}}function Bt(t){let e,n,o,r;const s=[Lt,It],l=[];function i(t,e){return t[1]?0:1}return e=i(t),n=l[e]=s[e](t),{c(){n.c(),o=O()},m(t,n){l[e].m(t,n),C(t,o,n),r=!0},p(t,[r]){let a=e;e=i(t),e===a?l[e].p(t,r):(pt(),gt(l[a],1,1,(()=>{l[a]=null})),mt(),n=l[e],n?n.p(t,r):(n=l[e]=s[e](t),n.c()),ht(n,1),n.m(o.parentNode,o))},i(t){r||(ht(n),r=!0)},o(t){gt(n),r=!1},d(t){l[e].d(t),t&&D(o)}}}function Nt(t,e,n){let{$$slots:o={},$$scope:r}=e,{type:s="button"}=e,{href:l=null}=e,{mode:i=null}=e,{color:a=null}=e,{disabled:c=!1}=e;return t.$$set=t=>{"type"in t&&n(0,s=t.type),"href"in t&&n(1,l=t.href),"mode"in t&&n(2,i=t.mode),"color"in t&&n(3,a=t.color),"disabled"in t&&n(4,c=t.disabled),"$$scope"in t&&n(5,r=t.$$scope)},[s,l,i,a,c,r,o,function(e){G.call(this,t,e)}]}class Pt extends St{constructor(t){super(),Mt(this,t,Nt,Bt,l,{type:0,href:1,mode:2,color:3,disabled:4})}}const Ft=t=>({}),Wt=t=>({});function Ht(t){let e;return{c(){e=_("Close")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function Ut(t){let e,n,o,s,l,i,a,c,d,h,g,$,y,v;const w=t[2].default,x=u(w,t,t[3],null),k=t[2].footer,M=u(k,t,t[3],Wt),O=M||function(t){let e,n;return e=new Pt({props:{$$slots:{default:[Ht]},$$scope:{ctx:t}}}),e.$on("click",t[1]),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},p(t,n){const o={};8&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}(t);return{c(){e=S("div"),o=T(),s=S("div"),l=S("h1"),i=_(t[0]),a=T(),c=S("div"),x&&x.c(),d=T(),h=S("footer"),O&&O.c(),A(e,"class","modal-backdrop svelte-1h28c7z"),A(l,"class","svelte-1h28c7z"),A(c,"class","content svelte-1h28c7z"),A(h,"class","svelte-1h28c7z"),A(s,"class","modal svelte-1h28c7z")},m(n,r){C(n,e,r),C(n,o,r),C(n,s,r),b(s,l),b(l,i),b(s,a),b(s,c),x&&x.m(c,null),b(s,d),b(s,h),O&&O.m(h,null),$=!0,y||(v=[E(e,"click",t[1]),E(s,"click",t[1])],y=!0)},p(t,[e]){(!$||1&e)&&q(i,t[0]),x&&x.p&&(!$||8&e)&&p(x,w,t,t[3],$?f(w,t[3],e,null):m(t[3]),null),M&&M.p&&(!$||8&e)&&p(M,k,t,t[3],$?f(k,t[3],e,Ft):m(t[3]),Wt)},i(t){$||(rt((()=>{n||(n=yt(e,At,{},!0)),n.run(1)})),ht(x,t),ht(O,t),rt((()=>{g||(g=yt(s,qt,{y:300},!0)),g.run(1)})),$=!0)},o(t){n||(n=yt(e,At,{},!1)),n.run(0),gt(x,t),gt(O,t),g||(g=yt(s,qt,{y:300},!1)),g.run(0),$=!1},d(t){t&&D(e),t&&n&&n.end(),t&&D(o),t&&D(s),x&&x.d(t),O&&O.d(t),t&&g&&g.end(),y=!1,r(v)}}}function Rt(t,e,n){let{$$slots:o={},$$scope:r}=e,{title:s}=e;const l=V();return t.$$set=t=>{"title"in t&&n(0,s=t.title),"$$scope"in t&&n(3,r=t.$$scope)},[s,function(){l("cancel")},o,r]}class Kt extends St{constructor(t){super(),Mt(this,t,Rt,Ut,l,{title:0})}}function Jt(e){let n,o,r,s,l;return{c(){n=S("p"),n.textContent="A simple app to track your todo items in an easy and efficient way!",o=T(),r=S("p"),r.textContent="The app lets you to plan your todo items and track them throughout the day. It\n  is fast, simple and intutive.",s=T(),l=S("p"),l.innerHTML='Please contact\n  <a href="mailto:madhanganesh@gmail.com.com?subject = Todopad Feedback&amp;body = Message" class="svelte-1dqb6dr">madhanganesh@gmail.com</a> for any support.'},m(t,e){C(t,n,e),C(t,o,e),C(t,r,e),C(t,s,e),C(t,l,e)},p:t,i:t,o:t,d(t){t&&D(n),t&&D(o),t&&D(r),t&&D(s),t&&D(l)}}}class Zt extends St{constructor(t){super(),Mt(this,t,null,Jt,l,{})}}function Vt(t){let e,n;return e=new Kt({props:{title:"Todopad",$$slots:{footer:[Xt],default:[Gt]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},p(t,n){const o={};129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Gt(t){let e,n;return e=new Zt({}),e.$on("close",(function(){s(t[0]=!1)&&(t[0]=!1).apply(this,arguments)})),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},p(e,n){t=e},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Qt(t){let e;return{c(){e=_("Close")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function Xt(t){let e,n,o;return n=new Pt({props:{type:"button",mode:"outline",$$slots:{default:[Qt]},$$scope:{ctx:t}}}),n.$on("click",t[2]),{c(){e=S("div"),xt(n.$$.fragment),A(e,"slot","footer")},m(t,r){C(t,e,r),kt(n,e,null),o=!0},p(t,e){const o={};128&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){gt(n.$$.fragment,t),o=!1},d(t){t&&D(e),Ct(n)}}}function te(e){let n,o,s,l,i,a,c;return{c(){n=S("li"),o=S("a"),o.textContent="Login",s=T(),l=S("li"),i=S("a"),i.textContent="Signup",A(o,"href","/"),A(o,"class","button svelte-1tgj12i"),A(n,"class","svelte-1tgj12i"),A(i,"href","/"),A(i,"class","button svelte-1tgj12i"),A(l,"class","svelte-1tgj12i")},m(t,r){C(t,n,r),b(n,o),C(t,s,r),C(t,l,r),b(l,i),a||(c=[E(o,"click",Y(e[4])),E(i,"click",Y(e[5]))],a=!0)},p:t,d(t){t&&D(n),t&&D(s),t&&D(l),a=!1,r(c)}}}function ee(t){let e,n,o,r,s,l,i,a=t[1].username+"";return{c(){e=S("li"),n=_(a),o=T(),r=S("li"),s=S("a"),s.textContent="Logout",A(e,"class","username svelte-1tgj12i"),A(s,"href","/"),A(s,"class","svelte-1tgj12i"),A(r,"class","svelte-1tgj12i")},m(a,c){C(a,e,c),b(e,n),C(a,o,c),C(a,r,c),b(r,s),l||(i=E(s,"click",Y(t[3])),l=!0)},p(t,e){2&e&&a!==(a=t[1].username+"")&&q(n,a)},d(t){t&&D(e),t&&D(o),t&&D(r),l=!1,i()}}}function ne(t){let e,n,o,r,s,l,i,a,c,u,d,f,p=t[0]&&Vt(t);function m(t,e){return"loggedin"===t[1].state?ee:te}let h=m(t),g=h(t);return{c(){p&&p.c(),e=T(),n=S("header"),o=S("h1"),o.innerHTML='<span><span class="fas fa-tasks svelte-1tgj12i" aria-hidden="true"></span> todopad</span>',r=T(),s=S("nav"),l=S("ul"),g.c(),i=T(),a=S("li"),c=S("a"),c.textContent="About",A(o,"class","svelte-1tgj12i"),A(c,"href","/"),A(c,"class","svelte-1tgj12i"),A(a,"class","svelte-1tgj12i"),A(l,"class","svelte-1tgj12i"),A(s,"class","svelte-1tgj12i"),A(n,"class","svelte-1tgj12i")},m(m,h){p&&p.m(m,h),C(m,e,h),C(m,n,h),b(n,o),b(n,r),b(n,s),b(s,l),g.m(l,null),b(l,i),b(l,a),b(a,c),u=!0,d||(f=E(c,"click",Y(t[6])),d=!0)},p(t,[n]){t[0]?p?(p.p(t,n),1&n&&ht(p,1)):(p=Vt(t),p.c(),ht(p,1),p.m(e.parentNode,e)):p&&(pt(),gt(p,1,1,(()=>{p=null})),mt()),h===(h=m(t))&&g?g.p(t,n):(g.d(1),g=h(t),g&&(g.c(),g.m(l,i)))},i(t){u||(ht(p),u=!0)},o(t){gt(p),u=!1},d(t){p&&p.d(t),t&&D(e),t&&D(n),g.d(),d=!1,f()}}}function oe(t,e,n){let o;c(t,Yt,(t=>n(1,o=t)));let r=!1;return[r,o,()=>n(0,r=!1),()=>Yt.setLoggedOff(),()=>Yt.setLogin(),()=>Yt.setSignup(),()=>n(0,r=!0)]}class re extends St{constructor(t){super(),Mt(this,t,oe,ne,l,{})}}function se(e){let n,o,s,l,i,c,u,d,f,p,m,h,g,$,y,v,w,x,k,M,O,j,q,z,I,L,B,N,P,F,W,H,U,R,K,J,Z,V,G,Q,X,tt,et,nt,ot,rt,st,lt,it,at;return{c(){n=S("h3"),n.textContent="Todopad",o=T(),s=S("p"),s.textContent="A simple app to track your todo items in an easy and efficient way!",l=T(),i=S("p"),i.textContent="The app lets you to plan your todo items and track them throughout the day. It\n  is fast, simple and intutive.",c=T(),u=S("h3"),u.textContent="Key Features",d=T(),f=S("ul"),f.innerHTML="<li>fast and intutive UI to add and track your todos</li> \n  <li>tag todos and see how your efforts are spent</li> \n  <li>see efforts grouped for each day, week and month</li> \n  <li>save and open any links from the todo list view quickly</li> \n  <li>fast experience to move pending todo to next day</li>",p=T(),m=S("blockquote"),m.textContent="What gets measured is what gets improved!",h=T(),g=S("p"),$=_("Please\n  "),y=S("a"),y.textContent="Signup",v=_("\n  and write a todo!"),w=T(),x=S("p"),x.innerHTML='Source @ <a href="https://github.com/madhanganesh/todopad" class="svelte-4ic4cl">github</a>',k=T(),M=S("p"),M.innerHTML='Contact <a href="mailto:madhanganesh@gmail.com" class="svelte-4ic4cl">madhanganesh@gmail.com</a>',O=T(),j=S("h3"),j.textContent="Application",q=T(),z=S("img"),L=T(),B=S("h3"),B.textContent="Reports by day | week | month",N=T(),P=S("img"),W=T(),H=S("h3"),H.textContent="Reports by tags",U=T(),R=S("img"),J=T(),Z=S("h3"),Z.textContent="Filters",V=T(),G=S("img"),X=T(),tt=S("h4"),tt.textContent="Quickly open links or move todo to next day",et=T(),nt=S("img"),rt=_("\n\nPlease\n"),st=S("a"),st.textContent="Signup",lt=_(" and write a todo!"),A(m,"class","svelte-4ic4cl"),A(y,"href","/"),A(y,"class","button svelte-4ic4cl"),A(g,"class","signup"),a(z.src,I="app-screen-shots/todos.png")||A(z,"src","app-screen-shots/todos.png"),A(z,"alt","todo app"),A(z,"class","svelte-4ic4cl"),a(P.src,F="app-screen-shots/report-day.png")||A(P,"src","app-screen-shots/report-day.png"),A(P,"alt","todo app"),A(P,"class","svelte-4ic4cl"),a(R.src,K="app-screen-shots/report-tags.png")||A(R,"src","app-screen-shots/report-tags.png"),A(R,"alt","todo app"),A(R,"class","svelte-4ic4cl"),a(G.src,Q="app-screen-shots/filter.png")||A(G,"src","app-screen-shots/filter.png"),A(G,"alt","todo app"),A(G,"class","svelte-4ic4cl"),A(nt,"class","small svelte-4ic4cl"),a(nt.src,ot="app-screen-shots/todo-links.png")||A(nt,"src","app-screen-shots/todo-links.png"),A(nt,"alt","todo app"),A(st,"href","/"),A(st,"class","button svelte-4ic4cl")},m(t,r){C(t,n,r),C(t,o,r),C(t,s,r),C(t,l,r),C(t,i,r),C(t,c,r),C(t,u,r),C(t,d,r),C(t,f,r),C(t,p,r),C(t,m,r),C(t,h,r),C(t,g,r),b(g,$),b(g,y),b(g,v),C(t,w,r),C(t,x,r),C(t,k,r),C(t,M,r),C(t,O,r),C(t,j,r),C(t,q,r),C(t,z,r),C(t,L,r),C(t,B,r),C(t,N,r),C(t,P,r),C(t,W,r),C(t,H,r),C(t,U,r),C(t,R,r),C(t,J,r),C(t,Z,r),C(t,V,r),C(t,G,r),C(t,X,r),C(t,tt,r),C(t,et,r),C(t,nt,r),C(t,rt,r),C(t,st,r),C(t,lt,r),it||(at=[E(y,"click",Y(e[0])),E(st,"click",Y(e[1]))],it=!0)},p:t,i:t,o:t,d(t){t&&D(n),t&&D(o),t&&D(s),t&&D(l),t&&D(i),t&&D(c),t&&D(u),t&&D(d),t&&D(f),t&&D(p),t&&D(m),t&&D(h),t&&D(g),t&&D(w),t&&D(x),t&&D(k),t&&D(M),t&&D(O),t&&D(j),t&&D(q),t&&D(z),t&&D(L),t&&D(B),t&&D(N),t&&D(P),t&&D(W),t&&D(H),t&&D(U),t&&D(R),t&&D(J),t&&D(Z),t&&D(V),t&&D(G),t&&D(X),t&&D(tt),t&&D(et),t&&D(nt),t&&D(rt),t&&D(st),t&&D(lt),it=!1,r(at)}}}function le(t){return[()=>Yt.setSignup(),()=>Yt.setSignup()]}class ie extends St{constructor(t){super(),Mt(this,t,le,se,l,{})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ae,ce,ue=(ae=function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,o="millisecond",r="second",s="minute",l="hour",i="day",a="week",c="month",u="quarter",d="year",f="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(t,e,n){var o=String(t);return!o||o.length>=e?t:""+Array(e+1-o.length).join(n)+t},y={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),o=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+$(o,2,"0")+":"+$(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var o=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(o,c),s=n-r<0,l=e.clone().add(o+(s?-1:1),c);return+(-(o+(n-r)/(s?r-l:l-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:a,d:i,D:f,h:l,m:s,s:r,ms:o,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",w={};w[v]=g;var b=function(t){return t instanceof D},x=function(t,e,n){var o;if(!t)return v;if("string"==typeof t)w[t]&&(o=t),e&&(w[t]=e,o=t);else{var r=t.name;w[r]=t,o=r}return!n&&o&&(v=o),o||!n&&v},k=function(t,e){if(b(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new D(n)},C=y;C.l=x,C.i=b,C.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var D=function(){function g(t){this.$L=x(t.locale,null,!0),this.parse(t)}var $=g.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var o=e.match(m);if(o){var r=o[2]-1||0,s=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return C},$.isValid=function(){return!(this.$d.toString()===p)},$.isSame=function(t,e){var n=k(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return k(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<k(t)},$.$g=function(t,e,n){return C.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,e){var n=this,o=!!C.u(e)||e,u=C.p(t),p=function(t,e){var r=C.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return o?r:r.endOf(i)},m=function(t,e){return C.w(n.toDate()[t].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},h=this.$W,g=this.$M,$=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return o?p(1,0):p(31,11);case c:return o?p(1,g):p(0,g+1);case a:var v=this.$locale().weekStart||0,w=(h<v?h+7:h)-v;return p(o?$-w:$+(6-w),g);case i:case f:return m(y+"Hours",0);case l:return m(y+"Minutes",1);case s:return m(y+"Seconds",2);case r:return m(y+"Milliseconds",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(t,e){var n,a=C.p(t),u="set"+(this.$u?"UTC":""),p=(n={},n[i]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[l]=u+"Hours",n[s]=u+"Minutes",n[r]=u+"Seconds",n[o]=u+"Milliseconds",n)[a],m=a===i?this.$D+(e-this.$W):e;if(a===c||a===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[C.p(t)]()},$.add=function(o,u){var f,p=this;o=Number(o);var m=C.p(u),h=function(t){var e=k(p);return C.w(e.date(e.date()+Math.round(t*o)),p)};if(m===c)return this.set(c,this.$M+o);if(m===d)return this.set(d,this.$y+o);if(m===i)return h(1);if(m===a)return h(7);var g=(f={},f[s]=e,f[l]=n,f[r]=t,f)[m]||1,$=this.$d.getTime()+o*g;return C.w($,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var o=t||"YYYY-MM-DDTHH:mm:ssZ",r=C.z(this),s=this.$H,l=this.$m,i=this.$M,a=n.weekdays,c=n.months,u=function(t,n,r,s){return t&&(t[n]||t(e,o))||r[n].substr(0,s)},d=function(t){return C.s(s%12||12,t,"0")},f=n.meridiem||function(t,e,n){var o=t<12?"AM":"PM";return n?o.toLowerCase():o},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:i+1,MM:C.s(i+1,2,"0"),MMM:u(n.monthsShort,i,c,3),MMMM:u(c,i),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,a,2),ddd:u(n.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:C.s(s,2,"0"),h:d(1),hh:d(2),a:f(s,l,!0),A:f(s,l,!1),m:String(l),mm:C.s(l,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:r};return o.replace(h,(function(t,e){return e||m[t]||r.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(o,f,p){var m,h=C.p(f),g=k(o),$=(g.utcOffset()-this.utcOffset())*e,y=this-g,v=C.m(this,g);return v=(m={},m[d]=v/12,m[c]=v,m[u]=v/3,m[a]=(y-$)/6048e5,m[i]=(y-$)/864e5,m[l]=y/n,m[s]=y/e,m[r]=y/t,m)[h]||y,p?v:C.a(v)},$.daysInMonth=function(){return this.endOf(c).$D},$.$locale=function(){return w[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),o=x(t,e,!0);return o&&(n.$L=o),n},$.clone=function(){return C.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},g}(),M=D.prototype;return k.prototype=M,[["$ms",o],["$s",r],["$m",s],["$H",l],["$W",i],["$M",c],["$y",d],["$D",f]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,D,k),t.$i=!0),k},k.locale=x,k.isDayjs=b,k.unix=function(t){return k(1e3*t)},k.en=w[v],k.Ls=w,k.p={},k}()},ae(ce={exports:{}},ce.exports),ce.exports);let de="https://todopad.in/api";function fe(t){try{if("string"==typeof t)if("404 page not found"===t.trim())t="Unable to perform this action now. Please try after sometime.";else{const e=JSON.parse(t);e&&e.error&&(t=e.error).includes("invalid auth token")&&(t="Auth Token Expired. Please logout and login again.")}return t}catch(e){return console.error(e),t}}async function pe(t,e){try{if("pending"===e.filter){const e=`${de}/todo?pending=true`;return await me(t,e)}const n=ue(e.dates.from).startOf("d").toISOString(),o=ue(e.dates.to).endOf("d").toISOString(),r=`${de}/todo?from=${n}&to=${o}`;return await me(t,r)}catch(t){throw fe(t)}}async function me(t,e){const n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,Accept:"application/json",Origin:"http://127.0.0.1:5000"}},o=await fetch(e,n);if(!o.ok){throw await o.text()}let r=await o.json();return r=r.map((t=>({...t,due:new Date(t.due)}))),r}async function he(t,e){const n={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,Accept:"application/json",Origin:"http://127.0.0.1:5000"},body:JSON.stringify(e)};try{const t=`${de}/todo/${e.id}`,o=await fetch(t,n);if(!o.ok){throw await o.text()}}catch(t){throw fe(t)}}async function ge(t){const e=`${de}/usertags`,n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,Accept:"application/json",Origin:"http://127.0.0.1:5000"}},o=await fetch(e,n);if(!o.ok){throw await o.text()}return await o.json()}function $e(t){let e,n,o;return{c(){e=S("input"),A(e,"type",t[4]),A(e,"id",t[1]),e.value=t[3],A(e,"class","svelte-1ccnpcy"),L(e,"invalid",t[8])},m(r,s){C(r,e,s),t[13](e),n||(o=E(e,"input",t[9]),n=!0)},p(t,n){16&n&&A(e,"type",t[4]),2&n&&A(e,"id",t[1]),8&n&&e.value!==t[3]&&(e.value=t[3]),256&n&&L(e,"invalid",t[8])},d(r){r&&D(e),t[13](null),n=!1,o()}}}function ye(t){let e,n,o;return{c(){e=S("textarea"),A(e,"rows",t[5]),A(e,"id",t[1]),e.value=t[3],A(e,"class","svelte-1ccnpcy")},m(r,s){C(r,e,s),n||(o=E(e,"input",t[9]),n=!0)},p(t,n){32&n&&A(e,"rows",t[5]),2&n&&A(e,"id",t[1]),8&n&&(e.value=t[3])},d(t){t&&D(e),n=!1,o()}}}function ve(t){let e,n;return{c(){e=S("p"),n=_(t[6]),A(e,"class","error-message svelte-1ccnpcy")},m(t,o){C(t,e,o),b(e,n)},p(t,e){64&e&&q(n,t[6])},d(t){t&&D(e)}}}function we(e){let n,o,r,s,l;function i(t,e){return"textarea"===t[0]?ye:$e}let a=i(e),c=a(e),u=e[8]&&ve(e);return{c(){n=S("div"),o=S("label"),r=_(e[2]),s=T(),c.c(),l=T(),u&&u.c(),A(o,"for",e[1]),A(o,"class","svelte-1ccnpcy"),A(n,"class","form-control svelte-1ccnpcy")},m(t,e){C(t,n,e),b(n,o),b(o,r),b(n,s),c.m(n,null),b(n,l),u&&u.m(n,null)},p(t,[e]){4&e&&q(r,t[2]),2&e&&A(o,"for",t[1]),a===(a=i(t))&&c?c.p(t,e):(c.d(1),c=a(t),c&&(c.c(),c.m(n,l))),t[8]?u?u.p(t,e):(u=ve(t),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:t,o:t,d(t){t&&D(n),c.d(),u&&u.d()}}}function be(t,e,n){let o;const r=V();let s,{controlType:l=null}=e,{id:i}=e,{label:a}=e,{value:c}=e,{type:u}=e,{autofocus:d=0}=e,{rows:f=5}=e,{valid:p=!0}=e,{validityMessage:m=""}=e;J((()=>{d&&s.focus()}));let h=!1;return t.$$set=t=>{"controlType"in t&&n(0,l=t.controlType),"id"in t&&n(1,i=t.id),"label"in t&&n(2,a=t.label),"value"in t&&n(3,c=t.value),"type"in t&&n(4,u=t.type),"autofocus"in t&&n(10,d=t.autofocus),"rows"in t&&n(5,f=t.rows),"valid"in t&&n(11,p=t.valid),"validityMessage"in t&&n(6,m=t.validityMessage)},t.$$.update=()=>{6208&t.$$.dirty&&n(8,o=!p&&m&&h)},[l,i,a,c,u,f,m,s,o,function(t){n(12,h=!0),r("input",t)},d,p,h,function(t){X[t?"unshift":"push"]((()=>{s=t,n(7,s)}))}]}class xe extends St{constructor(t){super(),Mt(this,t,be,we,l,{controlType:0,id:1,label:2,value:3,type:4,autofocus:10,rows:5,valid:11,validityMessage:6})}}function ke(t){return 0===t.trim().length}function Ce(t){return!/^((?!\.)[\w\-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/.test(t)}function De(t){let e,n;return e=new xe({props:{id:"name",label:"Name",type:"text",value:t[1],valid:!ke(t[1]),validityMessage:"Please enter your name",autofocus:"true"}}),e.$on("input",t[9]),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.value=t[1]),2&n&&(o.valid=!ke(t[1])),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Me(t){let e,n;return{c(){e=S("p"),n=_(t[4]),A(e,"class","error svelte-10w01ww")},m(t,o){C(t,e,o),b(e,n)},p(t,e){16&e&&q(n,t[4])},d(t){t&&D(e)}}}function Se(t){let e,n,o,s,l,i,a,c,u,d,f,p,m,h,g,$,y,v,w=t[0]&&De(t);l=new xe({props:{id:"email",label:"Email",type:"email",value:t[2],valid:!Ce(t[2]),validityMessage:"Please enter valid email",autofocus:!t[0]}}),l.$on("input",t[10]),a=new xe({props:{id:"password",label:"Password",type:"password",value:t[3],valid:!ke(t[3]),validityMessage:"Please enter your password"}}),a.$on("input",t[11]);let x=t[4]&&Me(t);return{c(){e=S("form"),n=S("h2"),n.textContent=`${t[6]}`,o=T(),w&&w.c(),s=T(),xt(l.$$.fragment),i=T(),xt(a.$$.fragment),c=T(),u=S("div"),d=S("button"),f=_(t[6]),m=T(),h=S("button"),h.textContent="Cancel",g=T(),x&&x.c(),A(n,"class","svelte-10w01ww"),d.disabled=p=!t[5](),A(d,"class","svelte-10w01ww"),A(h,"class","svelte-10w01ww"),A(u,"class","controls svelte-10w01ww"),A(e,"class","svelte-10w01ww")},m(r,p){C(r,e,p),b(e,n),b(e,o),w&&w.m(e,null),b(e,s),kt(l,e,null),b(e,i),kt(a,e,null),b(e,c),b(e,u),b(u,d),b(d,f),b(u,m),b(u,h),b(u,g),x&&x.m(u,null),$=!0,y||(v=[E(d,"click",j(Y(t[8]))),E(h,"click",t[7])],y=!0)},p(t,[n]){t[0]?w?(w.p(t,n),1&n&&ht(w,1)):(w=De(t),w.c(),ht(w,1),w.m(e,s)):w&&(pt(),gt(w,1,1,(()=>{w=null})),mt());const o={};4&n&&(o.value=t[2]),4&n&&(o.valid=!Ce(t[2])),1&n&&(o.autofocus=!t[0]),l.$set(o);const r={};8&n&&(r.value=t[3]),8&n&&(r.valid=!ke(t[3])),a.$set(r),(!$||32&n&&p!==(p=!t[5]()))&&(d.disabled=p),t[4]?x?x.p(t,n):(x=Me(t),x.c(),x.m(u,null)):x&&(x.d(1),x=null)},i(t){$||(ht(w),ht(l.$$.fragment,t),ht(a.$$.fragment,t),$=!0)},o(t){gt(w),gt(l.$$.fragment,t),gt(a.$$.fragment,t),$=!1},d(t){t&&D(e),w&&w.d(),Ct(l),Ct(a),x&&x.d(),y=!1,r(v)}}}function _e(t,e,n){let o,{signup:r=!1}=e,s=r?"Signup":"Login",l="",i="",a="",c=null;return t.$$set=t=>{"signup"in t&&n(0,r=t.signup)},t.$$.update=()=>{15&t.$$.dirty&&n(5,o=()=>{let t=!ke(a)&&!Ce(i);return r&&(t=t&&!ke(l)),t})},[r,l,i,a,c,o,s,function(){Yt.setLoggedOff()},async function(){if(n(4,c=null),o())try{let t;t=r?await async function(t,e,n){const o={method:"POST",body:JSON.stringify({name:t,email:e,password:n}),headers:{"Content-Type":"application/json"}},r=await fetch(`${de}/signup`,o);if(!r.ok){const t=await r.text();if(409===r.status)throw"Email already exists. Please login if you have registered already.";throw t}return await r.json()}(l,i,a):await async function(t,e){const n={method:"POST",body:JSON.stringify({email:t,password:e}),headers:{"Content-Type":"application/json"}},o=await fetch(`${de}/login`,n);if(!o.ok){const t=await o.text();if(404===o.status)throw"Email not found. Please login with valid credentials.";if(403===o.status)throw"Invalid Credentials. Please login with valid credentials.";throw t}return await o.json()}(i,a),Yt.setLoggedIn(t.name,t.userid,t.token)}catch(t){n(4,c=t)}else n(4,c="invalid form")},t=>n(1,l=t.detail.target.value),t=>n(2,i=t.detail.target.value),t=>n(3,a=t.detail.target.value)]}class Te extends St{constructor(t){super(),Mt(this,t,_e,Se,l,{signup:0})}}const Oe=Tt([]),Ee=["pending","today","tomorrow","yesterday","daterange"],Ye={filter:"pending",dates:ze("pending"),heading:Ie("pending")},je={from:new Date,to:new Date,groupby:"day",tags:[],timezoneoffset:60*ue().utcOffset(),heading:Le({from:new Date,to:new Date})},Ae=Tt({option:"todos",todosfilter:Ye,reportrequest:je}),qe={subscribe:Ae.subscribe,filters:()=>Ee,setTodosFilter:(t,e)=>{const n={filter:t,dates:ze(t,e),heading:Ie(t,e)};Ae.set({option:"todos",todosfilter:n,reportrequest:je})},setReportRequest:(t,e,n,o)=>{const r={from:t,to:e,groupby:n,tags:o,timezoneoffset:je.timezoneoffset,heading:Le({from:t,to:e})};Ae.set({option:"report",todosfilter:Ye,reportrequest:r})}};function ze(t,e){let n={from:new Date,to:new Date};if("pending"===t)return n;if("today"===t)return n;if("tomorrow"===t){const t=ue().add(1,"d").toDate();return{from:t,to:t}}if("yesterday"===t){const t=ue().subtract(1,"d").toDate();return{from:t,to:t}}return e||n}function Ie(t,e={from:new Date,to:new Date}){if("daterange"==t){const t=ue(e.from).format("DD MMM YYYY"),n=ue(e.to).format("DD MMM YYYY");return t===n?t:`${t} - ${n}`}return"string"!=typeof(n=t)?"":n.charAt(0).toUpperCase()+n.slice(1);var n}function Le(t){const e=ue(t.from).format("DD MMM YYYY"),n=ue(t.to).format("DD MMM YYYY");return e===n?`Report for ${e}`:`Report for ${e} to ${n}`}function Be(t){let e,n;return{c(){e=S("p"),n=_(t[1]),A(e,"class","hint svelte-1abhzxz")},m(t,o){C(t,e,o),b(e,n)},p(t,e){2&e&&q(n,t[1])},d(t){t&&D(e)}}}function Ne(e){let n,o,s,l,i,a=e[1]&&Be(e);return{c(){n=S("div"),o=S("input"),s=T(),a&&a.c(),A(o,"placeholder","enter a todo"),A(o,"type","text"),o.autofocus=!0,A(o,"class","svelte-1abhzxz"),A(n,"class","todoinput svelte-1abhzxz")},m(t,r){C(t,n,r),b(n,o),z(o,e[0]),b(n,s),a&&a.m(n,null),o.focus(),l||(i=[E(o,"input",e[4]),E(o,"keypress",e[2]),E(o,"keyup",e[3])],l=!0)},p(t,[e]){1&e&&o.value!==t[0]&&z(o,t[0]),t[1]?a?a.p(t,e):(a=Be(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:t,o:t,d(t){t&&D(n),a&&a.d(),l=!1,r(i)}}}function Pe(t,e){let n=t.matchAll(/#([a-zA-Z0-9]+)/g),o=[];for(const t of n)o.push(t[1]);if(0!==o.length&&!t.endsWith("#")){let t=o[o.length-1];(e=(e=e.filter((t=>!o.includes(t)))).filter((e=>e.startsWith(t)))).push(t)}return e.map((t=>`#${t}`)).join(" ")}function Fe(t,e,n){let o,r;c(t,Yt,(t=>n(7,o=t))),c(t,qe,(t=>n(8,r=t)));const s=V();let l,i,a="",u=!1;return[a,l,async function(t){if(32===t.keyCode&&(n(1,l=void 0),u=!1),0!==a.length&&35===t.keyCode&&(await async function(){try{const t=await ge(o.authtoken);i=t.tags}catch(t){console.error(t),i=""}}(),u=!0),0!==a.length&&58===t.keyCode&&n(1,l=":tomorrow :yesterday :2022-01-21. (default is today)"),0!==a.length&&64===t.keyCode&&n(1,l="@2.5 (effort of todo in hours, default is 1)"),u){const e=String.fromCharCode(t.keyCode);let o=a;35!=t.keyCode&&(o+=e),n(1,l=Pe(o,[...i])),l||n(1,l="new tag")}if(l||n(1,l="eg. Complete Coding #tag :tomorrow @1.5"),0!==a.length&&13===t.keyCode){t.preventDefault();const e=r.todosfilter.dates.from;try{let t={title:a,effort:1,due:e,tags:[],done:!1};if(t=function(t){const e=t.title.split(" "),n=[];let o=t.tags,r=t.due,s=t.effort;for(let t of e)if(t.trim().startsWith("#"))t=t.substring(1),o.push(t);else if(t.trim().startsWith(":"))t=t.substring(1),"today"==t&&(r=new Date),"tomorrow"==t&&(r=ue().add(1,"day").toDate()),"yesterday"==t&&(r=ue().subtract(1,"day").toDate()),ue(t).isValid()&&(r=ue(t).toDate());else if(t.trim().startsWith("@")){t=t.substring(1);const e=parseFloat(t);0!=e&&(s=e)}else n.push(t);return t.title=n.join(" "),t.tags=o,t.due=r,t.effort=s,t}(t),0===t.title.length||""===t.title||" "===t.title)return;await async function(t,e){const n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,Accept:"application/json",Origin:"http://127.0.0.1:5000"},body:JSON.stringify(e)};try{const t=`${de}/todo`,e=await fetch(t,n);if(!e.ok)throw await e.text();return await e.json()}catch(t){throw fe(t)}}(o.authtoken,t),s("change")}catch(t){console.error(t),s("error",t)}finally{n(0,a=""),n(1,l=void 0),u=!1,s("help",!1)}}},async function(t){if(0!==a.length&&27!==t.keyCode||n(1,l=void 0),0!==a.length&&8===t.keyCode){if(a.endsWith(" "))return u=!1,void n(1,l=void 0);u&&(n(1,l=Pe(a,i)),l||n(1,l="new tag"))}},function(){a=this.value,n(0,a)}]}class We extends St{constructor(t){super(),Mt(this,t,Fe,Ne,l,{})}}function He(t,e,n){const o=t.slice();return o[39]=e[n],o[41]=n,o}function Ue(t,e,n){const o=t.slice();return o[10]=e[n],o[43]=n,o}function Re(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=Ve(Ue(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=O()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);C(t,e,n)},p(t,r){if(8265&r[0]){let s;for(n=t[0],s=0;s<n.length;s+=1){const l=Ue(t,n,s);o[s]?o[s].p(l,r):(o[s]=Ve(l),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){M(o,t),t&&D(e)}}}function Ke(t){let e,n=t[10][t[3]]+"";return{c(){e=_(n)},m(t,n){C(t,e,n)},p(t,o){9&o[0]&&n!==(n=t[10][t[3]]+"")&&q(e,n)},d(t){t&&D(e)}}}function Je(t){let e,n=t[10]+"";return{c(){e=_(n)},m(t,n){C(t,e,n)},p(t,o){1&o[0]&&n!==(n=t[10]+"")&&q(e,n)},d(t){t&&D(e)}}}function Ze(t){let e,n,o;function r(){return t[29](t[43])}return{c(){e=S("span"),e.textContent="×",A(e,"class","svelte-tags-input-tag-remove svelte-1hda3m")},m(t,s){C(t,e,s),n||(o=E(e,"click",r),n=!0)},p(e,n){t=e},d(t){t&&D(e),n=!1,o()}}}function Ve(t){let e,n,o;function r(t,e){return"string"==typeof t[10]?Je:Ke}let s=r(t),l=s(t),i=!t[6]&&Ze(t);return{c(){e=S("span"),l.c(),n=T(),i&&i.c(),o=T(),A(e,"class","svelte-tags-input-tag svelte-1hda3m")},m(t,r){C(t,e,r),l.m(e,null),b(e,n),i&&i.m(e,null),b(e,o)},p(t,a){s===(s=r(t))&&l?l.p(t,a):(l.d(1),l=s(t),l&&(l.c(),l.m(e,n))),t[6]?i&&(i.d(1),i=null):i?i.p(t,a):(i=Ze(t),i.c(),i.m(e,o))},d(t){t&&D(e),l.d(),i&&i.d()}}}function Ge(t){let e,n,o,r=t[9],s=[];for(let e=0;e<r.length;e+=1)s[e]=Qe(He(t,r,e));return{c(){e=S("div"),n=S("ul");for(let t=0;t<s.length;t+=1)s[t].c();A(n,"id",o=t[5]+"_matchs"),A(n,"class","svelte-tags-input-matchs svelte-1hda3m"),A(e,"class","svelte-tags-input-matchs-parent svelte-1hda3m")},m(t,o){C(t,e,o),b(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,e){if(266752&e[0]){let o;for(r=t[9],o=0;o<r.length;o+=1){const l=He(t,r,o);s[o]?s[o].p(l,e):(s[o]=Qe(l),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}32&e[0]&&o!==(o=t[5]+"_matchs")&&A(n,"id",o)},d(t){t&&D(e),M(s,t)}}}function Qe(t){let e,n,o,s,l,i=t[39].search+"";function a(){return t[32](t[41],t[39])}function c(){return t[33](t[39])}return{c(){e=S("li"),n=new N,o=T(),n.a=o,A(e,"tabindex","-1"),A(e,"class","svelte-1hda3m")},m(t,r){C(t,e,r),n.m(i,e),b(e,o),s||(l=[E(e,"keydown",a),E(e,"click",c)],s=!0)},p(e,o){t=e,512&o[0]&&i!==(i=t[39].search+"")&&n.p(i)},d(t){t&&D(e),s=!1,r(l)}}}function Xe(e){let n,o,s,l,i,a,c,u,d,f,p,m=e[0].length>0&&Re(e),g=e[2]&&e[9].length>0&&Ge(e);return{c(){n=S("div"),o=S("label"),s=_(e[7]),i=T(),m&&m.c(),a=T(),c=S("input"),u=T(),g&&g.c(),d=O(),A(o,"for",e[5]),A(o,"class",l=h(e[8]?"":"sr-only")+" svelte-1hda3m"),A(c,"type","text"),A(c,"id",e[5]),A(c,"name",e[4]),A(c,"class","svelte-tags-input svelte-1hda3m"),A(c,"placeholder",e[1]),c.disabled=e[6],A(n,"class","svelte-tags-input-layout svelte-1hda3m"),L(n,"sti-layout-disable",e[6])},m(t,r){C(t,n,r),b(n,o),b(o,s),b(n,i),m&&m.m(n,null),b(n,a),b(n,c),z(c,e[10]),C(t,u,r),g&&g.m(t,r),C(t,d,r),f||(p=[E(c,"input",e[30]),E(c,"keydown",e[11]),E(c,"keyup",e[17]),E(c,"paste",e[14]),E(c,"drop",e[15]),E(c,"blur",e[31])],f=!0)},p(t,e){128&e[0]&&q(s,t[7]),32&e[0]&&A(o,"for",t[5]),256&e[0]&&l!==(l=h(t[8]?"":"sr-only")+" svelte-1hda3m")&&A(o,"class",l),t[0].length>0?m?m.p(t,e):(m=Re(t),m.c(),m.m(n,a)):m&&(m.d(1),m=null),32&e[0]&&A(c,"id",t[5]),16&e[0]&&A(c,"name",t[4]),2&e[0]&&A(c,"placeholder",t[1]),64&e[0]&&(c.disabled=t[6]),1024&e[0]&&c.value!==t[10]&&z(c,t[10]),64&e[0]&&L(n,"sti-layout-disable",t[6]),t[2]&&t[9].length>0?g?g.p(t,e):(g=Ge(t),g.c(),g.m(d.parentNode,d)):g&&(g.d(1),g=null)},i:t,o:t,d(t){t&&D(n),m&&m.d(),t&&D(u),g&&g.d(t),t&&D(d),f=!1,r(p)}}}function tn(t,e,n){let o;const r=V();let s="",l=[],i=t=>t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),{tags:a}=e,{addKeys:c}=e,{maxTags:u}=e,{onlyUnique:d}=e,{removeKeys:f}=e,{placeholder:p}=e,{allowPaste:m}=e,{allowDrop:h}=e,{splitWith:g}=e,{autoComplete:$}=e,{autoCompleteKey:y}=e,{name:v}=e,{id:w}=e,{allowBlur:b}=e,{disable:x}=e,{minChars:k}=e,{onlyAutocomplete:C}=e,{labelText:D}=e,{labelShow:M}=e,S=p;function _(t){if("object"==typeof t&&null!==t){if(!y)return console.error("'autoCompleteKey' is necessary if 'autoComplete' result is an array of objects");var e=t;t=t[y].trim()}else t=t.trim();""!=t&&(u&&a.length==u||d&&a.includes(t)||C&&0===l.length||(a.push(e||t),n(0,a),n(10,s=""),r("tags",{tags:a}),n(9,l=[]),document.getElementById(w).focus(),u&&a.length==u&&(document.getElementById(w).readOnly=!0,n(1,p=""))))}function T(t){a.splice(t,1),n(0,a),r("tags",{tags:a}),n(9,l=[]),document.getElementById(w).readOnly=!1,n(1,p=S),document.getElementById(w).focus()}function O(t){!document.getElementById(o)&&b&&(event.preventDefault(),_(t))}function E(t){return t.split(g).map((t=>t.trim()))}function Y(t,e,r){if($)if(event.preventDefault(),40===event.keyCode){if(t+1===e)return void document.getElementById(o).querySelector("li:first-child").focus();document.getElementById(o).querySelectorAll("li")[t+1].focus()}else if(38===event.keyCode){if(0===t)return void document.getElementById(o).querySelector("li:last-child").focus();document.getElementById(o).querySelectorAll("li")[t-1].focus()}else 13===event.keyCode?_(r):27===event.keyCode&&(n(9,l=[]),document.getElementById(w).focus())}return t.$$set=t=>{"tags"in t&&n(0,a=t.tags),"addKeys"in t&&n(19,c=t.addKeys),"maxTags"in t&&n(20,u=t.maxTags),"onlyUnique"in t&&n(21,d=t.onlyUnique),"removeKeys"in t&&n(22,f=t.removeKeys),"placeholder"in t&&n(1,p=t.placeholder),"allowPaste"in t&&n(23,m=t.allowPaste),"allowDrop"in t&&n(24,h=t.allowDrop),"splitWith"in t&&n(25,g=t.splitWith),"autoComplete"in t&&n(2,$=t.autoComplete),"autoCompleteKey"in t&&n(3,y=t.autoCompleteKey),"name"in t&&n(4,v=t.name),"id"in t&&n(5,w=t.id),"allowBlur"in t&&n(26,b=t.allowBlur),"disable"in t&&n(6,x=t.disable),"minChars"in t&&n(27,k=t.minChars),"onlyAutocomplete"in t&&n(28,C=t.onlyAutocomplete),"labelText"in t&&n(7,D=t.labelText),"labelShow"in t&&n(8,M=t.labelShow)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(0,a=a||[]),524288&t.$$.dirty[0]&&n(19,c=c||[13]),1048576&t.$$.dirty[0]&&n(20,u=u||!1),2097152&t.$$.dirty[0]&&n(21,d=d||!1),4194304&t.$$.dirty[0]&&n(22,f=f||[8]),2&t.$$.dirty[0]&&n(1,p=p||""),8388608&t.$$.dirty[0]&&n(23,m=m||!1),16777216&t.$$.dirty[0]&&n(24,h=h||!1),33554432&t.$$.dirty[0]&&n(25,g=g||","),4&t.$$.dirty[0]&&n(2,$=$||!1),8&t.$$.dirty[0]&&n(3,y=y||!1),16&t.$$.dirty[0]&&n(4,v=v||"svelte-tags-input"),32&t.$$.dirty[0]&&n(5,w=w||"sti_"+Math.random().toString(36).substr(2,9)),67108864&t.$$.dirty[0]&&n(26,b=b||!1),64&t.$$.dirty[0]&&n(6,x=x||!1),134217728&t.$$.dirty[0]&&n(27,k=k||1),268435456&t.$$.dirty[0]&&n(28,C=C||!1),144&t.$$.dirty[0]&&n(7,D=D||v),256&t.$$.dirty[0]&&n(8,M=M||!1),32&t.$$.dirty[0]&&(o=w+"_matchs")},[a,p,$,y,v,w,x,D,M,l,s,function(t){const e=t.target.value;c&&c.forEach((function(n){n===t.keyCode&&(e&&t.preventDefault(),$&&document.getElementById(o)?_(document.getElementById(o).querySelectorAll("li")[0].textContent):_(e))})),f&&f.forEach((function(e){e===t.keyCode&&""===s&&(a.pop(),n(0,a),r("tags",{tags:a}),n(9,l=[]),document.getElementById(w).readOnly=!1,n(1,p=S),document.getElementById(w).focus())})),40===t.keyCode&&$&&document.getElementById(o)?(event.preventDefault(),document.getElementById(o).querySelector("li:first-child").focus()):38===t.keyCode&&$&&document.getElementById(o)&&(event.preventDefault(),document.getElementById(o).querySelector("li:last-child").focus())},_,T,function(t){if(!m)return;t.preventDefault();const e=function(t){return window.clipboardData?window.clipboardData.getData("Text"):t.clipboardData?t.clipboardData.getData("text/plain"):""}(t);E(e).map((t=>_(t)))},function(t){if(!h)return;t.preventDefault(),E(t.dataTransfer.getData("Text")).map((t=>_(t)))},O,async function(t){if(!$)return;let e=[];Array.isArray($)&&(e=$),"function"==typeof $&&(e="AsyncFunction"===$.constructor.name?await $():$());var o=t.target.value;if(""==o||27===t.keyCode||o.length<k)n(9,l=[]);else{if("object"==typeof e[0]&&null!==e){if(!y)return console.error("'autoCompleteValue' is necessary if 'autoComplete' result is an array of objects");var r=e.filter((t=>t[y].toLowerCase().includes(o.toLowerCase()))).map((t=>({label:t,search:t[y].replace(RegExp(i(o.toLowerCase()),"i"),"<strong>$&</strong>")})))}else r=e.filter((t=>t.toLowerCase().includes(o.toLowerCase()))).map((t=>({label:t,search:t.replace(RegExp(i(o.toLowerCase()),"i"),"<strong>$&</strong>")})));!0!==d||y||(r=r.filter((t=>!a.includes(t.label)))),n(9,l=r)}},Y,c,u,d,f,m,h,g,b,k,C,t=>T(t),function(){s=this.value,n(10,s)},()=>O(s),(t,e)=>Y(t,l.length,e.label),t=>_(t.label)]}class en extends St{constructor(t){super(),Mt(this,t,tn,Xe,l,{tags:0,addKeys:19,maxTags:20,onlyUnique:21,removeKeys:22,placeholder:1,allowPaste:23,allowDrop:24,splitWith:25,autoComplete:2,autoCompleteKey:3,name:4,id:5,allowBlur:26,disable:6,minChars:27,onlyAutocomplete:28,labelText:7,labelShow:8},null,[-1,-1])}}function nn(t,e,n){const o=t.slice();return o[22]=e[n],o}function on(t,e,n){const o=t.slice();return o[25]=e[n],o}function rn(t,e){let n,o,r="daterange"!==e[25]&&function(t){let e,n,o,r,s=t[12](t[25])+"";function l(){return t[14](t[25])}return{c(){e=S("li"),n=_(s),A(e,"class","svelte-1qf123m")},m(t,s){C(t,e,s),b(e,n),o||(r=E(e,"click",l),o=!0)},p(e,n){t=e},d(t){t&&D(e),o=!1,r()}}}(e);return{key:t,first:null,c(){n=O(),r&&r.c(),o=O(),this.first=n},m(t,e){C(t,n,e),r&&r.m(t,e),C(t,o,e)},p(t,n){"daterange"!==(e=t)[25]&&r.p(e,n)},d(t){t&&D(n),r&&r.d(t),t&&D(o)}}}function sn(t,e){let n,o,r,s,l=e[22]+"";return{key:t,first:null,c(){n=S("option"),o=_(l),r=T(),n.__value=s=e[22],n.value=n.__value,this.first=n},m(t,e){C(t,n,e),b(n,o),b(n,r)},p(t,n){e=t},d(t){t&&D(n)}}}function ln(t){let e,n,o;return n=new en({props:{labelText:"Sub-group by",labelShow:!1,onlyUnique:"true",tags:t[3],autoComplete:t[2],placeholder:"Sub-group by tags (optional)"}}),n.$on("tags",t[10]),{c(){e=S("span"),xt(n.$$.fragment),A(e,"class","field svelte-1qf123m")},m(t,r){C(t,e,r),kt(n,e,null),o=!0},p(t,e){const o={};8&e&&(o.tags=t[3]),4&e&&(o.autoComplete=t[2]),n.$set(o)},i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){gt(n.$$.fragment,t),o=!1},d(t){t&&D(e),Ct(n)}}}function an(t){let e,n;return{c(){e=S("p"),n=_(t[5]),A(e,"class","error svelte-1qf123m")},m(t,o){C(t,e,o),b(e,n)},p(t,e){32&e&&q(n,t[5])},d(t){t&&D(e)}}}function cn(t){let e,n,o,s,l,i,a,c,u,d,f,p,m,h,g,$,y,v,w,x,k,M,O,Y,j,q,z,L,B=[],N=new Map,P=[],F=new Map,W=qe.filters();const H=t=>t[25];for(let e=0;e<W.length;e+=1){let n=on(t,W,e),o=H(n);N.set(o,B[e]=rn(o,n))}let U=t[6];const R=t=>t[22];for(let e=0;e<U.length;e+=1){let n=nn(t,U,e),o=R(n);F.set(o,P[e]=sn(o,n))}let K=t[0]&&ln(t),J=t[5]&&an(t);return{c(){e=S("div"),n=S("ul");for(let t=0;t<B.length;t+=1)B[t].c();o=T(),s=S("li"),l=_("Custom\n        "),i=S("div"),a=S("div"),c=S("span"),u=S("label"),u.textContent="From",d=T(),f=S("input"),m=T(),h=S("span"),g=S("label"),g.textContent="To",$=T(),y=S("input"),w=T(),x=S("span"),k=S("label"),k.textContent="Group by",M=T(),O=S("select");for(let t=0;t<P.length;t+=1)P[t].c();Y=T(),K&&K.c(),j=T(),J&&J.c(),A(u,"for","fromdate"),A(u,"class","svelte-1qf123m"),A(f,"id","fromdate"),A(f,"type","date"),f.value=p=ue(t[4].from).format("YYYY-MM-DD"),A(f,"class","svelte-1qf123m"),A(c,"class","field svelte-1qf123m"),A(g,"for","todate"),A(g,"class","svelte-1qf123m"),A(y,"id","todate"),A(y,"type","date"),y.value=v=ue(t[4].to).format("YYYY-MM-DD"),A(y,"class","svelte-1qf123m"),A(h,"class","field svelte-1qf123m"),A(k,"for","dategroup"),A(k,"class","svelte-1qf123m"),A(O,"class","svelte-1qf123m"),void 0===t[1]&&rt((()=>t[17].call(O))),A(x,"class","field svelte-1qf123m"),A(a,"class","fields svelte-1qf123m"),A(i,"class","custom svelte-1qf123m"),A(s,"class","svelte-1qf123m"),A(n,"class","filters svelte-1qf123m"),A(e,"class","form")},m(r,p){C(r,e,p),b(e,n);for(let t=0;t<B.length;t+=1)B[t].m(n,null);b(n,o),b(n,s),b(s,l),b(s,i),b(i,a),b(a,c),b(c,u),b(c,d),b(c,f),b(a,m),b(a,h),b(h,g),b(h,$),b(h,y),b(a,w),b(a,x),b(x,k),b(x,M),b(x,O);for(let t=0;t<P.length;t+=1)P[t].m(O,null);I(O,t[1]),b(a,Y),K&&K.m(a,null),b(e,j),J&&J.m(e,null),q=!0,z||(L=[E(f,"input",t[15]),E(y,"input",t[16]),E(O,"change",t[17]),E(O,"change",t[11]),E(i,"click",t[13])],z=!0)},p(t,r){4224&r&&(W=qe.filters(),B=bt(B,r,H,1,t,W,N,n,vt,rn,o,on)),(!q||16&r&&p!==(p=ue(t[4].from).format("YYYY-MM-DD")))&&(f.value=p),(!q||16&r&&v!==(v=ue(t[4].to).format("YYYY-MM-DD")))&&(y.value=v),64&r&&(U=t[6],P=bt(P,r,R,1,t,U,F,O,vt,sn,null,nn)),66&r&&I(O,t[1]),t[0]?K?(K.p(t,r),1&r&&ht(K,1)):(K=ln(t),K.c(),ht(K,1),K.m(a,null)):K&&(pt(),gt(K,1,1,(()=>{K=null})),mt()),t[5]?J?J.p(t,r):(J=an(t),J.c(),J.m(e,null)):J&&(J.d(1),J=null)},i(t){q||(ht(K),q=!0)},o(t){gt(K),q=!1},d(t){t&&D(e);for(let t=0;t<B.length;t+=1)B[t].d();for(let t=0;t<P.length;t+=1)P[t].d();K&&K.d(),J&&J.d(),z=!1,r(L)}}}function un(t){let e;return{c(){e=_("Cancel")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function dn(t){let e;return{c(){e=_("Select Custom Filter")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function fn(t){let e,n,o,r,s;return n=new Pt({props:{type:"button",mode:"outline",$$slots:{default:[un]},$$scope:{ctx:t}}}),n.$on("click",t[9]),r=new Pt({props:{type:"button",mode:"outline",$$slots:{default:[dn]},$$scope:{ctx:t}}}),r.$on("click",t[8]),{c(){e=S("div"),xt(n.$$.fragment),o=T(),xt(r.$$.fragment),A(e,"slot","footer")},m(t,l){C(t,e,l),kt(n,e,null),b(e,o),kt(r,e,null),s=!0},p(t,e){const o={};268435456&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const s={};268435456&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s)},i(t){s||(ht(n.$$.fragment,t),ht(r.$$.fragment,t),s=!0)},o(t){gt(n.$$.fragment,t),gt(r.$$.fragment,t),s=!1},d(t){t&&D(e),Ct(n),Ct(r)}}}function pn(t){let e,n;return e=new Kt({props:{title:"Select Filter",$$slots:{footer:[fn],default:[cn]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},p(t,[n]){const o={};268435519&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function mn(t,e,n){let o;c(t,Yt,(t=>n(18,o=t)));const r=V();let s,l=!1,i=["nothing","day","week","month","tags"],a="nothing",u=[],d=[],f={from:new Date,to:new Date};function p(t,e){qe.setTodosFilter(t,e),r("close")}J((async()=>{qe.subscribe((t=>{var e,o;"todos"==t.option&&("daterange"===(e=t.todosfilter).filter&&(n(4,f.from=e.dates.from,f),n(4,f.to=e.dates.to,f))),"report"==t.option&&(o=t.reportrequest,n(4,f.from=o.from,f),n(4,f.to=o.to,f),n(1,a=o.groupby),"tags"===a&&(n(0,l=!0),n(3,d=o.tags)))}))();try{const t=await ge(o.authtoken);n(2,u=t.tags)}catch(t){console.error(t)}}));return[l,a,u,d,f,s,i,p,function(){if(ue(f.to).diff(f.from)<0)return n(5,s="To date is later than from date. Please correct."),void setTimeout((()=>n(5,s=void 0)),3e3);"nothing"===a?qe.setTodosFilter("daterange",f):qe.setReportRequest(ue(f.from).startOf("d").toDate(),ue(f.to).endOf("d").toDate(),a,d),r("close")},function(){r("close")},function(t){d.concat(t.detail.tags)},function(){n(0,l="tags"===a)},t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1),function(e){G.call(this,t,e)},t=>p(t),t=>{n(4,f.from=ue(t.target.value).add(10,"m").toDate(),f),n(4,f.to=f.from,f)},t=>{n(4,f.to=ue(t.target.value).add(10,"m").toDate(),f)},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(1,a),n(6,i)}]}class hn extends St{constructor(t){super(),Mt(this,t,mn,pn,l,{})}}function gn(e){let n,o;return n=new hn({}),n.$on("close",e[3]),{c(){xt(n.$$.fragment)},m(t,e){kt(n,t,e),o=!0},p:t,i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){gt(n.$$.fragment,t),o=!1},d(t){Ct(n,t)}}}function $n(t){let e,n,o,r,s,l,i,a,c,u,d,f=t[2]&&gn(t);return{c(){f&&f.c(),e=T(),n=S("p"),o=S("span"),r=S("a"),s=_(t[0]),l=T(),i=S("span"),a=_(t[1]),A(r,"href","/"),A(r,"class","svelte-o7rzpt"),A(o,"class","filter"),A(i,"class","count svelte-o7rzpt"),A(n,"class","summary svelte-o7rzpt")},m(p,m){f&&f.m(p,m),C(p,e,m),C(p,n,m),b(n,o),b(o,r),b(r,s),b(n,l),b(n,i),b(i,a),c=!0,u||(d=E(r,"click",j(Y(t[4]))),u=!0)},p(t,[n]){t[2]?f?(f.p(t,n),4&n&&ht(f,1)):(f=gn(t),f.c(),ht(f,1),f.m(e.parentNode,e)):f&&(pt(),gt(f,1,1,(()=>{f=null})),mt()),(!c||1&n)&&q(s,t[0]),(!c||2&n)&&q(a,t[1])},i(t){c||(ht(f),c=!0)},o(t){gt(f),c=!1},d(t){f&&f.d(t),t&&D(e),t&&D(n),u=!1,d()}}}function yn(t,e,n){let{heading:o="Todos"}=e,{countSummary:r=""}=e,s=!1;return t.$$set=t=>{"heading"in t&&n(0,o=t.heading),"countSummary"in t&&n(1,r=t.countSummary)},[o,r,s,()=>n(2,s=!1),()=>n(2,s=!0)]}class vn extends St{constructor(t){super(),Mt(this,t,yn,$n,l,{heading:0,countSummary:1})}}function wn(t){let e,n,o,r,s,l,i,a,c,u,d,f,p;return n=new xe({props:{id:"title",label:"Title",type:"text",value:t[0].title,valid:!ke(t[0].title),validityMessage:"Please enter a valid title",autofocus:1}}),n.$on("input",t[7]),r=new xe({props:{id:"subtitle",label:"Subtitle",type:"date",value:ue(t[0].due).format("YYYY-MM-DD"),validityMessage:"Please enter a valid due date"}}),r.$on("input",t[8]),l=new xe({props:{id:"effort",label:"Effort",type:"number",value:t[0].effort,valid:0!==t[0].effort,validityMessage:"Please enter a valid effort"}}),l.$on("input",t[9]),u=new en({props:{tags:t[0].tags,onlyUnique:"true",autoComplete:t[2]}}),u.$on("tags",t[3]),f=new xe({props:{id:"notes",label:"Notes",controlType:"textarea",value:t[0].notes}}),f.$on("input",t[10]),{c(){e=S("div"),xt(n.$$.fragment),o=T(),xt(r.$$.fragment),s=T(),xt(l.$$.fragment),i=T(),a=S("label"),a.textContent="Tags",c=T(),xt(u.$$.fragment),d=T(),xt(f.$$.fragment),A(a,"for","tags"),A(a,"class","svelte-mom7nz"),A(e,"class","form svelte-mom7nz")},m(t,m){C(t,e,m),kt(n,e,null),b(e,o),kt(r,e,null),b(e,s),kt(l,e,null),b(e,i),b(e,a),b(e,c),kt(u,e,null),b(e,d),kt(f,e,null),p=!0},p(t,e){const o={};1&e&&(o.value=t[0].title),1&e&&(o.valid=!ke(t[0].title)),n.$set(o);const s={};1&e&&(s.value=ue(t[0].due).format("YYYY-MM-DD")),r.$set(s);const i={};1&e&&(i.value=t[0].effort),1&e&&(i.valid=0!==t[0].effort),l.$set(i);const a={};1&e&&(a.tags=t[0].tags),4&e&&(a.autoComplete=t[2]),u.$set(a);const c={};1&e&&(c.value=t[0].notes),f.$set(c)},i(t){p||(ht(n.$$.fragment,t),ht(r.$$.fragment,t),ht(l.$$.fragment,t),ht(u.$$.fragment,t),ht(f.$$.fragment,t),p=!0)},o(t){gt(n.$$.fragment,t),gt(r.$$.fragment,t),gt(l.$$.fragment,t),gt(u.$$.fragment,t),gt(f.$$.fragment,t),p=!1},d(t){t&&D(e),Ct(n),Ct(r),Ct(l),Ct(u),Ct(f)}}}function bn(t){let e;return{c(){e=_("Cancel")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function xn(t){let e;return{c(){e=_("Save")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function kn(t){let e,n,o,r,s;return n=new Pt({props:{type:"button",mode:"outline",$$slots:{default:[bn]},$$scope:{ctx:t}}}),n.$on("click",t[5]),r=new Pt({props:{type:"button",disabled:!t[1],$$slots:{default:[xn]},$$scope:{ctx:t}}}),r.$on("click",t[4]),{c(){e=S("div"),xt(n.$$.fragment),o=T(),xt(r.$$.fragment),A(e,"slot","footer")},m(t,l){C(t,e,l),kt(n,e,null),b(e,o),kt(r,e,null),s=!0},p(t,e){const o={};16384&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const s={};2&e&&(s.disabled=!t[1]),16384&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s)},i(t){s||(ht(n.$$.fragment,t),ht(r.$$.fragment,t),s=!0)},o(t){gt(n.$$.fragment,t),gt(r.$$.fragment,t),s=!1},d(t){t&&D(e),Ct(n),Ct(r)}}}function Cn(t){let e,n;return e=new Kt({props:{title:"Edit Todo",$$slots:{footer:[kn],default:[wn]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},p(t,[n]){const o={};16391&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Dn(t,e,n){let o;c(t,Yt,(t=>n(11,o=t)));let{id:r=null}=e,s=null,l=!1,i=[];if(J((async()=>{try{const t=await ge(o.authtoken);n(2,i=t.tags)}catch(t){n(2,i=[]),console.error(t)}})),r){Oe.subscribe((t=>{n(0,s=t.find((t=>t.id===r)))}))()}const a=V();return t.$$set=t=>{"id"in t&&n(6,r=t.id)},t.$$.update=()=>{1&t.$$.dirty&&n(1,l=!ke(s.title))},[s,l,i,function(t){n(0,s.tags=t.detail.tags,s)},async function(){try{n(0,s.due=new Date(s.due),s),n(0,s.effort=parseFloat(s.effort),s),await he(o.authtoken,s)}catch(t){a("error",t)}finally{a("save")}},function(){a("cancel")},r,t=>n(0,s.title=t.detail.target.value,s),t=>n(0,s.due=t.detail.target.value,s),t=>n(0,s.effort=t.detail.target.value,s),t=>n(0,s.notes=t.detail.target.value,s)]}class Mn extends St{constructor(t){super(),Mt(this,t,Dn,Cn,l,{id:6})}}function Sn(t,e,n){const o=t.slice();return o[25]=e[n],o}function _n(t,e,n){const o=t.slice();return o[28]=e[n],o}function Tn(t){let e,n;return e=new Mn({props:{id:t[1].id}}),e.$on("save",t[8]),e.$on("cancel",t[9]),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.id=t[1].id),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function On(t){let e;return{c(){e=S("span"),A(e,"class","fas fa-check-square svelte-gvwke0")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function En(t){let e;return{c(){e=S("span"),A(e,"class","fas fa-square svelte-gvwke0")},m(t,n){C(t,e,n)},d(t){t&&D(e)}}}function Yn(t){let e,n,o,s,l,i,a,c,u,d,f,p,m=t[25].effort+"",h=ue(t[25].due).format("DD MMM")+"";function g(){return t[14](t[25])}function $(){return t[15](t[25])}let y=t[10](t[25].notes),v=[];for(let e=0;e<y.length;e+=1)v[e]=jn(_n(t,y,e));function w(){return t[17](t[25])}return{c(){e=S("span"),n=S("span"),o=_(m),s=_(" hr"),l=T(),i=S("span"),a=_(h),c=T();for(let t=0;t<v.length;t+=1)v[t].c();u=T(),d=S("span"),A(n,"class","effort svelte-gvwke0"),A(n,"title","click to add 0.5"),A(i,"class","due svelte-gvwke0"),A(i,"title","clcick to move next day"),A(d,"class","fas fa-trash svelte-gvwke0"),A(e,"class","controls svelte-gvwke0")},m(t,r){C(t,e,r),b(e,n),b(n,o),b(n,s),b(e,l),b(e,i),b(i,a),b(e,c);for(let t=0;t<v.length;t+=1)v[t].m(e,null);b(e,u),b(e,d),f||(p=[E(n,"click",j(Y(g))),E(i,"click",j(Y($))),E(d,"click",j(Y(w)))],f=!0)},p(n,r){if(t=n,8&r&&m!==(m=t[25].effort+"")&&q(o,m),8&r&&h!==(h=ue(t[25].due).format("DD MMM")+"")&&q(a,h),1032&r){let n;for(y=t[10](t[25].notes),n=0;n<y.length;n+=1){const o=_n(t,y,n);v[n]?v[n].p(o,r):(v[n]=jn(o),v[n].c(),v[n].m(e,u))}for(;n<v.length;n+=1)v[n].d(1);v.length=y.length}},d(t){t&&D(e),M(v,t),f=!1,r(p)}}}function jn(t){let e,n,o,r;function s(){return t[16](t[28])}return{c(){e=S("span"),A(e,"class","fas fa-link svelte-gvwke0"),A(e,"title",n=t[28])},m(t,n){C(t,e,n),o||(r=E(e,"click",j(Y(s))),o=!0)},p(o,r){t=o,8&r&&n!==(n=t[28])&&A(e,"title",n)},d(t){t&&D(e),o=!1,r()}}}function An(t,e){let n,o,l,i,a,c,u,d,f,p,m,h=e[25].title+"";function g(t,e){return t[25].done?On:En}let $=g(e),y=$(e);function v(){return e[13](e[25])}let w=e[25].id===e[0]&&Yn(e);function x(){return e[19](e[25])}function k(){return e[20](e[25])}return{key:t,first:null,c(){n=S("li"),o=S("span"),y.c(),l=T(),i=S("span"),a=_(h),c=T(),w&&w.c(),u=T(),A(o,"class","completed"),A(i,"class","title"),A(n,"class","svelte-gvwke0"),this.first=n},m(t,r){C(t,n,r),b(n,o),y.m(o,null),b(n,l),b(n,i),b(i,a),b(n,c),w&&w.m(n,null),b(n,u),f=!0,p||(m=[E(o,"click",j(Y(v))),E(n,"click",Y((function(){s(e[7](e[25]))&&e[7](e[25]).apply(this,arguments)}))),E(n,"mouseleave",e[18]),E(n,"mouseover",x),E(n,"focus",k)],p=!0)},p(t,r){$!==($=g(e=t))&&(y.d(1),y=$(e),y&&(y.c(),y.m(o,null))),(!f||8&r)&&h!==(h=e[25].title+"")&&q(a,h),e[25].id===e[0]?w?w.p(e,r):(w=Yn(e),w.c(),w.m(n,u)):w&&(w.d(1),w=null)},i(t){f||(rt((()=>{d||(d=yt(n,zt,{},!0)),d.run(1)})),f=!0)},o(t){d||(d=yt(n,zt,{},!1)),d.run(0),f=!1},d(t){t&&D(n),y.d(),w&&w.d(),t&&d&&d.end(),p=!1,r(m)}}}function qn(t){let e,n,o,r,s,l,i=[],a=new Map,c=t[1]&&Tn(t);o=new vn({props:{heading:t[2].todosfilter.heading,countSummary:zn(t[3].length)}});let u=t[3];const d=t=>t[25].id;for(let e=0;e<u.length;e+=1){let n=Sn(t,u,e),o=d(n);a.set(o,i[e]=An(o,n))}return{c(){c&&c.c(),e=T(),n=S("div"),xt(o.$$.fragment),r=T(),s=S("ul");for(let t=0;t<i.length;t+=1)i[t].c();A(s,"class","svelte-gvwke0"),A(n,"class","todos svelte-gvwke0")},m(t,a){c&&c.m(t,a),C(t,e,a),C(t,n,a),kt(o,n,null),b(n,r),b(n,s);for(let t=0;t<i.length;t+=1)i[t].m(s,null);l=!0},p(t,[n]){t[1]?c?(c.p(t,n),2&n&&ht(c,1)):(c=Tn(t),c.c(),ht(c,1),c.m(e.parentNode,e)):c&&(pt(),gt(c,1,1,(()=>{c=null})),mt());const r={};4&n&&(r.heading=t[2].todosfilter.heading),8&n&&(r.countSummary=zn(t[3].length)),o.$set(r),7417&n&&(u=t[3],pt(),i=bt(i,n,d,1,t,u,a,s,wt,An,null,Sn),mt())},i(t){if(!l){ht(c),ht(o.$$.fragment,t);for(let t=0;t<u.length;t+=1)ht(i[t]);l=!0}},o(t){gt(c),gt(o.$$.fragment,t);for(let t=0;t<i.length;t+=1)gt(i[t]);l=!1},d(t){c&&c.d(t),t&&D(e),t&&D(n),Ct(o);for(let t=0;t<i.length;t+=1)i[t].d()}}}function zn(t){return 0===t?"Nothing to do":1===t?`${t} todo`:`${t} todos`}function In(t,e,n){let o,r,s;c(t,qe,(t=>n(2,o=t))),c(t,Yt,(t=>n(21,r=t))),c(t,Oe,(t=>n(3,s=t)));const l=V();let i=null,a=null;async function u(t){try{const e=await pe(r.authtoken,t);Oe.set(e)}catch(t){l("error",t)}}const d=qe.subscribe((t=>{"todos"===t.option&&u(t.todosfilter)}));function f(t){n(0,i=t)}async function p(t){try{const e={...s.find((e=>e.id===t))};e.done=!e.done,await he(r.authtoken,e),u(o.todosfilter)}catch(t){l("error",t)}}async function m(t){try{await async function(t,e){const n={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,Accept:"application/json",Origin:"http://127.0.0.1:5000"}};try{const t=`${de}/todo/${e}`,o=await fetch(t,n);if(!o.ok)throw await o.text()}catch(t){throw fe(t)}}(r.authtoken,t),u(o.todosfilter)}catch(t){l("error",t)}}async function h(t){try{const e={...s.find((e=>e.id===t))};e.effort+=.5,await he(r.authtoken,e),u(o.todosfilter)}catch(t){console.error(t)}}async function g(t){try{const e={...s.find((e=>e.id===t))};e.due=ue(e.due).add(1,"d").toDate(),await he(r.authtoken,e),u(o.todosfilter)}catch(t){console.error(t)}}Z((()=>d()));return[i,a,o,s,f,p,m,function(t){n(1,a=t)},function(){u(o.todosfilter),n(1,a=null)},function(){n(1,a=null)},function(t){const e=((t,e=!1)=>{const n=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?!&//=]*)/gi;if("string"!=typeof t)throw new TypeError("The str argument should be a string, got "+typeof t);if(t){let o=t.match(n);if(o)return e?o.map((t=>t.toLowerCase())):o}})(t);return e||[]},h,g,t=>p(t.id),t=>h(t.id),t=>g(t.id),t=>window.open(t),t=>m(t.id),()=>n(0,i=null),t=>f(t.id),t=>f(t.id)]}class Ln extends St{constructor(t){super(),Mt(this,t,In,qn,l,{})}}function Bn(t,e,n){const o=t.slice();return o[4]=e[n],o}function Nn(t){let e,n,o,r,s,l,i,a,c,u,d=Wn(t[0].groupby)+"",f=[],p=new Map;e=new vn({props:{heading:t[1].reportrequest.heading,countSummary:Un(t[0].efforts)}});let m=Hn(t[0].efforts);const h=t=>t[4].key;for(let e=0;e<m.length;e+=1){let n=Bn(t,m,e),o=h(n);p.set(o,f[e]=Pn(o,n))}return{c(){xt(e.$$.fragment),n=T(),o=S("table"),r=S("tr"),s=S("th"),l=_(d),i=T(),a=S("th"),a.textContent="Effort (in hours)",c=T();for(let t=0;t<f.length;t+=1)f[t].c();A(s,"class","svelte-1vywxf0"),A(a,"class","svelte-1vywxf0"),A(o,"class","svelte-1vywxf0")},m(t,d){kt(e,t,d),C(t,n,d),C(t,o,d),b(o,r),b(r,s),b(s,l),b(r,i),b(r,a),b(o,c);for(let t=0;t<f.length;t+=1)f[t].m(o,null);u=!0},p(t,n){const r={};2&n&&(r.heading=t[1].reportrequest.heading),1&n&&(r.countSummary=Un(t[0].efforts)),e.$set(r),(!u||1&n)&&d!==(d=Wn(t[0].groupby)+"")&&q(l,d),1&n&&(m=Hn(t[0].efforts),f=bt(f,n,h,1,t,m,p,o,vt,Pn,null,Bn))},i(t){u||(ht(e.$$.fragment,t),u=!0)},o(t){gt(e.$$.fragment,t),u=!1},d(t){Ct(e,t),t&&D(n),t&&D(o);for(let t=0;t<f.length;t+=1)f[t].d()}}}function Pn(t,e){let n,o,r,s,l,i,a,c=e[4].key+"",u=e[4].value+"";return{key:t,first:null,c(){n=S("tr"),o=S("td"),r=_(c),s=T(),l=S("td"),i=_(u),a=T(),A(o,"class","svelte-1vywxf0"),A(l,"class","svelte-1vywxf0"),this.first=n},m(t,e){C(t,n,e),b(n,o),b(o,r),b(n,s),b(n,l),b(l,i),b(n,a)},p(t,n){e=t,1&n&&c!==(c=e[4].key+"")&&q(r,c),1&n&&u!==(u=e[4].value+"")&&q(i,u)},d(t){t&&D(n)}}}function Fn(t){let e,n,o=t[0]&&Nn(t);return{c(){e=S("div"),o&&o.c()},m(t,r){C(t,e,r),o&&o.m(e,null),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&ht(o,1)):(o=Nn(t),o.c(),ht(o,1),o.m(e,null)):o&&(pt(),gt(o,1,1,(()=>{o=null})),mt())},i(t){n||(ht(o),n=!0)},o(t){gt(o),n=!1},d(t){t&&D(e),o&&o.d()}}}function Wn(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)}function Hn(t){let e=[];for(const n in t)e.push({key:n,value:t[n]});return e}function Un(t){let e=0;for(const n in t)e+=t[n];return`${e} hours`}function Rn(t,e,n){let o,r,s;c(t,Yt,(t=>n(2,o=t))),c(t,qe,(t=>n(1,r=t)));const l=qe.subscribe((async t=>{if("report"===t.option)try{n(0,s=await async function(t,e){const n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,Accept:"application/json",Origin:"http://127.0.0.1:5000"},body:JSON.stringify(e)};try{const t=`${de}/report`,e=await fetch(t,n);if(!e.ok)throw await e.text();return await e.json()}catch(t){throw fe(t)}}(o.authtoken,t.reportrequest))}catch(t){alert(t)}}));return Z((()=>l())),[s,r]}class Kn extends St{constructor(t){super(),Mt(this,t,Rn,Fn,l,{})}}function Jn(t){let e,n,o,r,s,l,i;return{c(){e=S("p"),n=S("span"),o=_(t[0]),r=T(),s=S("span"),A(n,"class","message svelte-vlfext"),A(s,"id","close"),A(s,"class","fas fa-times-circle svelte-vlfext"),A(e,"class","error svelte-vlfext")},m(a,c){C(a,e,c),b(e,n),b(n,o),b(e,r),b(e,s),l||(i=E(s,"click",j(Y(t[4]))),l=!0)},p(t,e){1&e&&q(o,t[0])},d(t){t&&D(e),l=!1,i()}}}function Zn(t){let e,n,o,r="todos"===t[1].option&&Vn(t),s="report"===t[1].option&&Gn();return{c(){r&&r.c(),e=T(),s&&s.c(),n=O()},m(t,l){r&&r.m(t,l),C(t,e,l),s&&s.m(t,l),C(t,n,l),o=!0},p(t,o){"todos"===t[1].option?r?(r.p(t,o),2&o&&ht(r,1)):(r=Vn(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(pt(),gt(r,1,1,(()=>{r=null})),mt()),"report"===t[1].option?s?2&o&&ht(s,1):(s=Gn(),s.c(),ht(s,1),s.m(n.parentNode,n)):s&&(pt(),gt(s,1,1,(()=>{s=null})),mt())},i(t){o||(ht(r),ht(s),o=!0)},o(t){gt(r),gt(s),o=!1},d(t){r&&r.d(t),t&&D(e),s&&s.d(t),t&&D(n)}}}function Vn(e){let n,o;return n=new Ln({}),n.$on("error",e[2]),{c(){xt(n.$$.fragment)},m(t,e){kt(n,t,e),o=!0},p:t,i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){gt(n.$$.fragment,t),o=!1},d(t){Ct(n,t)}}}function Gn(t){let e,n;return e=new Kn({}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Qn(t){let e,n,o,r,s;n=new We({}),n.$on("error",t[2]),n.$on("change",t[3]);let l=t[0]&&Jn(t),i=!t[0]&&Zn(t);return{c(){e=S("div"),xt(n.$$.fragment),o=T(),l&&l.c(),r=T(),i&&i.c(),A(e,"class","todoarea svelte-vlfext")},m(t,a){C(t,e,a),kt(n,e,null),b(e,o),l&&l.m(e,null),b(e,r),i&&i.m(e,null),s=!0},p(t,[n]){t[0]?l?l.p(t,n):(l=Jn(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null),t[0]?i&&(pt(),gt(i,1,1,(()=>{i=null})),mt()):i?(i.p(t,n),1&n&&ht(i,1)):(i=Zn(t),i.c(),ht(i,1),i.m(e,null))},i(t){s||(ht(n.$$.fragment,t),ht(i),s=!0)},o(t){gt(n.$$.fragment,t),gt(i),s=!1},d(t){t&&D(e),Ct(n),l&&l.d(),i&&i.d()}}}function Xn(t,e,n){let o,r;c(t,qe,(t=>n(1,o=t))),c(t,Yt,(t=>n(5,r=t)));let s=null;return[s,o,function(t){t.detail&&(console.error(t.detail),n(0,s=t.detail))},async function(){"todos"===o.option&&async function(t){try{const e=await pe(r.authtoken,t);Oe.set(e)}catch(t){n(0,s=t)}}(o.todosfilter)},()=>n(0,s=void 0)]}class to extends St{constructor(t){super(),Mt(this,t,Xn,Qn,l,{})}}function eo(t){let e,n;return e=new Zt({}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function no(t){let e,n;return e=new to({}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function oo(t){let e,n;return e=new Te({}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function ro(t){let e,n;return e=new Te({props:{signup:!0}}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function so(t){let e,n;return e=new ie({}),{c(){xt(e.$$.fragment)},m(t,o){kt(e,t,o),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function lo(t){let e,n,o,r;const s=[so,ro,oo,no,eo],l=[];function i(t,e){return"loggedout"===t[0].state?0:"signup"===t[0].state?1:"login"===t[0].state?2:"loggedin"===t[0].state?3:4}return n=i(t),o=l[n]=s[n](t),{c(){e=S("div"),o.c(),A(e,"class","main svelte-nay1ei")},m(t,o){C(t,e,o),l[n].m(e,null),r=!0},p(t,[r]){let a=n;n=i(t),n!==a&&(pt(),gt(l[a],1,1,(()=>{l[a]=null})),mt(),o=l[n],o||(o=l[n]=s[n](t),o.c()),ht(o,1),o.m(e,null))},i(t){r||(ht(o),r=!0)},o(t){gt(o),r=!1},d(t){t&&D(e),l[n].d()}}}function io(t,e,n){let o;return c(t,Yt,(t=>n(0,o=t))),[o]}class ao extends St{constructor(t){super(),Mt(this,t,io,lo,l,{})}}function co(e){let n,o,r,s,l;return o=new re({}),s=new ao({}),{c(){n=S("div"),xt(o.$$.fragment),r=T(),xt(s.$$.fragment)},m(t,e){C(t,n,e),kt(o,n,null),b(n,r),kt(s,n,null),l=!0},p:t,i(t){l||(ht(o.$$.fragment,t),ht(s.$$.fragment,t),l=!0)},o(t){gt(o.$$.fragment,t),gt(s.$$.fragment,t),l=!1},d(t){t&&D(n),Ct(o),Ct(s)}}}function uo(t){return Yt.appStarted(),[]}return new class extends St{constructor(t){super(),Mt(this,t,uo,co,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
